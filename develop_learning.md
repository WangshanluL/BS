- [ ] 任务1：完成chat逻辑

从数据库获取历史聊天记录的等下再实现，根据历史聊天记录+用户的prompt，然后先实现从neo4j检索到信息，然后组织一下检索的信息，能够把检索到的节点按照数宗数据库的格式返回给前段，然后再模仿之前的从tavily search api从互联网上检索知识相关信息。根据这些信息让大模型回答用户问题。

首先确定rag的逻辑

知识点匹配，我需要把所有节点极其描述先获取保存下来。



首先匹配知识点节点+描述 ->>匹配出一些节点，根据这个节点查找到其父节点

返回两种节点，一种节点是知识节点，也就是从这个节点获取到其父节点，然后根据这个父节点找到所有的子节点（这就是一颗小树，然后有n个这样的小树） 然后从这些小树里获取描述，然后rerank作为语料

第二种就是根据这些检索的节点往下检索，检索到直接相关的题目和video节点。然后作为小树返回。这些作为题目和视频返回，相当于学习资料查询功能。直接与知识点节点直接相连的颜色可以突出

第三种就是结合一二，但是只查询与相关知识点相关的题目和video，父节点的其他子节点的信息不返回。









王汉三:
前端每次点击页面都要根据chatid从数据库获取是否存在信息，并展示在页面。，然后前端把消息，和用户最新的一块用json发送给后端，也就是建立websocket。同时传两个参数，1。websearch，2。图谱搜索  3.题目搜索与视频搜索  发送消息，也就是建立websocket这个过程后端需要完成，，  

所以分开三个步骤，1，webrag容易解决  2，图谱搜索，这个最好是特定的cypher语句，只需要让大模型根据问题匹配节点，可以学习数宗写一个关键词匹配的，也可以让大模型根据用户问题，找几个关键词，这个后续再看，然后找到关键词之后把这些关系能够组织出来，返回，node，links，写一个算法重新组织返回。然后返回给前端，前端可视化展示出节点。并且把语料返回给后端。3.题目搜索与视频搜索和第二个逻辑差不多，找到关键词就行。所以就是要固定cypher语句，而不能让它自己写语句。

直接返回node什么的，让前端渲染，而不是用neovis，就跟数宗一样即可。


 最后把问题+检索资料一起发给大模型，然后输出大模型，同理，我们也可以加上引用。互联网这个容易引用，主要是这个图谱回答的，这个可以把前面graphrag的时候的语句拿来用。

关键就是把neo4j检索的信息能够转换成nodes，links的算法。第一个首先找到关键词，然后找关键词的子章节节点，把子章节节点的那一串摘下来，语料是不是也排序一下呢?后面再说，反正就是找到这一串结构。如果有题目和资料搜索，就把视频和题目节点也找出来

王汉三:
前端每次点击页面都要根据chatid从数据库获取是否存在信息，并展示在页面。，然后前端把消息，和用户最新的一块用json发送给后端，也就是建立websocket。同时传两个参数，1。websearch，2。图谱搜索  3.题目搜索与视频搜索  发送消息，也就是建立websocket这个过程后端需要完成，，  

所以分开三个步骤，1，webrag容易解决  2，图谱搜索，这个最好是特定的cypher语句，只需要让大模型根据问题匹配节点，可以学习数宗写一个关键词匹配的，也可以让大模型根据用户问题，找几个关键词，这个后续再看，然后找到关键词之后把这些关系能够组织出来，返回，node，links，写一个算法重新组织返回。然后返回给前端，前端可视化展示出节点。并且把语料返回给后端。3.题目搜索与视频搜索和第二个逻辑差不多，找到关键词就行。所以就是要固定cypher语句，而不能让它自己写语句。

直接返回node什么的，让前端渲染，而不是用neovis，就跟数宗一样即可。


 最后把问题+检索资料一起发给大模型，然后输出大模型，同理，我们也可以加上引用。互联网这个容易引用，主要是这个图谱回答的，这个可以把前面graphrag的时候的语句拿来用。

关键就是把neo4j检索的信息能够转换成nodes，links的算法。第一个首先找到关键词，然后找关键词的子章节节点，把子章节节点的那一串摘下来，语料是不是也排序一下呢?后面再说，反正就是找到这一串结构。如果有题目和资料搜索，就把视频和题目节点也找出来。参考信息的话只需要给出精准匹配的，返回给前端的时候还可以返回一个字段，就是不同的node颜色不同，关键词匹配的格外标出（可以是样式不同）。





请你帮我写代码，需求是根据我提供的ConceptNode的concept_name属性从知识图谱从检索到这些节点，我会提供一个字符串列表，然后请你帮我根据cypher语句检索出这些节点的相关题目节点TopicNode，关系是HAS_TOPIC，并且检索出视频节点VideoNode，关系是HAS_VIDEO，然后找到其父节点，父节点与其的关系是HAS_CONCEPT，父节点是SubChapterNode，并找到父节点下的所有ConceptNode，把所有这些节点构建成一个nodes列表，列表中每一项都是一个字典，字典有下面四个属性{id,name,category,value},id是根据节点开始以此递增，从0开始编号，name就是每个节点的一个属性（不同节点属性不相同，ConceptNode的是concept_name，同理VideoNode是video_name，SubChapterNode是subchapter_name），不同节点的category不同，ChapterNode 1、 SubChapterNode2、ConceptNode 3 、TopicNode 4、VideoNode 5，value是所有节点的description属性。

并且构建一个links数组，数组里同样每个都是字典，字典里有{source,target,type},source和target都是上面的节点id，代表从id为source的节点指向id为target的节点，type就与原来边的名字一样即可，比如HAS_CONCEPT，我已经连接好了neo4j数据库，你只需要帮我写一个函数，这个函数完成这些功能即可,我已经连接好数据库，你直接使用async_neo4j_driver对象即可：from neo4j import AsyncDriver, AsyncGraphDatabase
from app.core.config import settings
from app.core.log_config import logger

def create_neo4j_driver(neo4j_uri: str) -> AsyncDriver:
    try:
        # 创建Neo4j驱动
        driver = AsyncGraphDatabase.driver(
            neo4j_uri,
            auth=(settings.NEO4J_USER, settings.NEO4J_PASSWORD)
        )
        logger.info(f'Neo4j数据库连接成功, 连接地址: {neo4j_uri}')
        return driver
    except Exception as e:
        logger.info('❌ Neo4j数据库连接失败', e)


async_neo4j_driver = create_neo4j_driver(settings.NEO4J_URL)







请你帮我写代码，需求是根据我提供的ConceptNode的concept_name属性从知识图谱从检索到这些节点，我会提供一个字符串列表，然后请你帮我根据cypher语句检索出这些节点的父节点，父节点与其的关系是HAS_CONCEPT，父节点是SubChapterNode，并找到父节点下的所有ConceptNode，把所有这些节点构建成一个nodes列表，列表中每一项都是一个字典，字典有下面四个属性{id,name,category,value},id是根据节点开始以此递增，从0开始编号，name就是每个节点的一个属性（不同节点属性不相同，ConceptNode的是concept_name，同理VideoNode是video_name，SubChapterNode是subchapter_name），不同节点的category不同，ChapterNode 1、 SubChapterNode2、ConceptNode 3 、TopicNode 4、VideoNode 5，value是所有节点的





















---

[{'id': '0', 'name': 'Cosme爆卖', 'symbolSize': 54.3, 'category': 0, 'value': '理肤泉紫光隔离在COSME美妆大赏上连续多年霸榜，深受消费者喜爱，是口碑与实力的双重见证。', 'x': 0, 'y': 0}, {'id': '1', 'name': '光学提亮科技', 'symbolSize': 45.7, 'category': 1, 'value': '天然「修颜」 \nMicro-Pearl 天然紫光微晶 360°去黄提亮 还原妈生好皮 专为亚洲黄调肤色研发 360°紫光调色 通透亮白不假面 双重提亮有效持久 紫光微晶调色&360°反射自然光 隐匿毛孔不堵塞无硅感 物理磨皮滤镜 还原妈生皮 ', 'x': 328.4, 'y': -962.7}, , {'id': '3', 'name': '全妆街拍', 'symbolSize': 40, 'category': 3, 'value': '在进行全妆街拍时，希望妆容自然、服帖，且在长时间拍摄过程中不会出现卡粉、爆皮等现象，保持最佳状态。', 'x': 650.8, 'y': 649.7}, {'id': '4', 'name': '全波段轻盈防晒 通勤好搭档', 'symbolSize': 54.3, 'category': 2, 'value': '配备欧莱雅集团的双重麦色滤防晒技术，提供SPF50+ PA++++高倍防晒，全面防护UVA和UVB，是日常通勤的理想选择。', 'x': -570.5, 'y': -882.4}, {'id': '5', 'name': '冷门宝藏', 'symbolSize': 42.9, 'category': 4, 'value': '强调这是一款“实力待爆”的冷门护肤品。\n\n请审核文案是否包含以下内容重点。若无，必须自然地融入到既有的文本中，不能独立放在最后。 \n1、专业科普角度切入，冷门产品实力不容小觑 2、品牌背书，提及同品牌其他产品借热度 3、用光学对照卡突出展示产品的光学提亮科技 ', 'x': 651.2, 'y': -798.2}, {'id': '6', 'name': '出差/旅行族', 'symbolSize': 40, 'category': 5, 'value': '对于经常需要出差或旅行的人来说，理肤泉紫光隔离是理想的选择。它不仅具有强大的防晒功能（SPF50+ PA++++），可以有效抵御户外紫外线，还非常便于携带和使用，随时随地都能轻松打造出自然好气色。', 'x': 312, 'y': -377.3}, {'id': '7', 'name': '出门方便', 'symbolSize': 54.3, 'category': 0, 'value': 'SPF50+ PA++++的高倍防晒值让你无惧紫外线，无需额外涂抹防晒霜，洁面即可卸除，安全温和适合各种肤质，即使是敏感肌也能安心使用，简化你的日常护肤步骤。', 'x': -305.6, 'y': 758.3}, {'id': '8', 'name': '加班熬夜党', 'symbolSize': 40, 'category': 5, 'value': '对于经常加班熬夜的人来说，理肤泉紫光隔离能够有效遮盖疲惫的肤色，提供持久的控油效果，避免因长时间工作导致的油光满面。其轻薄透气的质地不会给肌肤带来负担，还能在忙碌的工作中保持清爽的妆容。', 'x': 787.7, 'y': -951.2}, {'id': '9', 'name': '卓效控油抗氧化 12H光泽肌肤', 'symbolSize': 54.3, 'category': 2, 'value': '添加了理肤泉明星控油成分AIRLICIU，能吸收自重150倍的油脂，持久控油不拔干，保持12小时光泽肌肤，特别适合亚洲人出油肌肤。', 'x': 796, 'y': -631.9}, {'id': '10', 'name': '卡粉爆皮', 'symbolSize': 40, 'category': 3, 'value': '干燥肌肤容易出现卡粉、爆皮等问题，需要一款能够保湿、贴合肌肤的产品，避免妆容斑驳。', 'x': 588.9, 'y': -687.3}, {'id': '11', 'name': '太空控油科技', 'symbolSize': 42.9, 'category': 1, 'value': '理肤泉明星控油成分添加，哑光感触手可得,精准「去油」 AIRLICIUM 注意不是AIRLICIUMTM \n太空控油成分 持久控油不拔干 150倍吸油(仅吸油不吸水)全肤质可用 组合复配成分更养肤 维E+腺苷，持久不暗沉 消费者口碑认证 更适合亚洲人出油肌肤 ', 'x': 431.4, 'y': 751}, {'id': '12', 'name': '妆感绝佳', 'symbolSize': 54.3, 'category': 0, 'value': '这款隔离能够提供超自然光感提亮效果，打造空气感清透肤感，让肌肤呈现素颜好气色，无论是日常通勤还是重要场合都能展现最佳状态。', 'x': -291.2, 'y': 480.9}, {'id': '13', 'name': '妆面更服帖，肌肤0负担', 'symbolSize': 54.3, 'category': 2, 'value': '利用航空级分子材料，形成轻盈立体屏障，使产品上脸后更加贴合肌肤，无硅感，成膜快，不油腻不搓泥，让妆容更自然服帖。', 'x': -642.9, 'y': -748.9}, {'id': '14', 'name': '安全温和0负担 洁面即可卸除', 'symbolSize': 54.3, 'category': 2, 'value': '不含香精、尼泊金酯类防腐剂等刺激性成分，敏感肌也能安心使用。产品质地轻薄，洁面时即可轻松卸除，不会给肌肤带来额外负担。', 'x': -640.5, 'y': 975.5}, {'id': '15', 'name': '宝妈', 'symbolSize': 40, 'category': 5, 'value': '作为宝妈，在照顾家庭的同时也需要关注自己的形象。理肤泉紫光隔离温和安全，不含香精和尼泊金酯类防腐剂，适合敏感肌使用。它的快速成膜特性使得即使是在忙碌的生活节奏中也能迅速完成日常护肤步骤，为宝妈们节省宝贵时间。', 'x': 331.5, 'y': 722.7}, {'id': '16', 'name': '早8通勤', 'symbolSize': 40, 'category': 3, 'value': '早晨时间紧张，需要快速完成妆容，同时产品需具备长效控油和防晒功能，确保一整天的妆容持久不脱妆。', 'x': 730.5, 'y': -402.3}, {'id': '17', 'name': '早八人必备', 'symbolSize': 42.9, 'category': 4, 'value': '早八人，轻松打造伪素颜妆容。\n\n内容重点: \n1、突出展示涂后的效果，能有前后对比展示 2、强调上脸后产品修颜提亮、不油腻、不搓泥、成膜快等 3、在兼具肤感的同时，具有强防晒力 ', 'x': -305.4, 'y': 726.6}, {'id': '18', 'name': '早八通勤', 'symbolSize': 40, 'category': 4, 'value': '目标受众是早八通勤者，加班到深夜第二天依旧光彩夺目。\n\n请审核文案是否包含以下内容重点。若无，必须自然地融入到既有的文本中，不能独立放在最后。 \n1、强调效果堪比素颜霜简单好用 2、突出展示涂后的效果，能有前后对比展示 3、live图直接看上脸效果，强调不油腻、不搓泥等 4、在兼具肤感的同时，具有强防晒力 ', 'x': -498, 'y': -801.2}, {'id': '19', 'name': '春/秋招面试', 'symbolSize': 40, 'category': 3, 'value': '在春/秋招面试中，需要一个简单好用的产品来打造自然妆容，帮助求职者提升自信，同时避免妆感过重带来的不适。', 'x': 929, 'y': 347.7}, {'id': '20', 'name': '某日系TOP隔离', 'symbolSize': 54.3, 'category': 6, 'value': '理肤泉紫光隔离相比某日系TOP隔离，具有更高的性价比。在控油效果、防晒指数（SPF50+ PA++++）以及成分安全性上均优于竞品，且不含香精和尼泊金酯类防腐剂，适合敏感肌使用。此外，理肤泉紫光隔离采用了360°去黄提亮科技，能够自然提亮肤色而不假白，同时具备更强的持久度与更好的肤感体验。', 'x': -846.2, 'y': 309.9}, {'id': '21', 'name': '横向对比', 'symbolSize': 40, 'category': 4, 'value': '与竞争品对比，与CPB同推客观对比。\n\n请审核文案是否包含以下内容重点。若无，必须自然地融入到既有的文本中，不能独立放在最后。 \n1、用光学对照卡突出展示产品的光学提亮科技 1、大牌高替，花小钱办大事，性价比高 2、防晒力更强、更控油、成分更安全 3、spf50+，不仅更好，防晒力更强 ', 'x': 557.8, 'y': -807.5}, {'id': '22', 'name': '毛孔粗大', 'symbolSize': 40, 'category': 3, 'value': '毛孔粗大影响整体肤质，需要一款能够隐形毛孔、平滑肌肤的产品，使肌肤看起来更加细腻。', 'x': -463.8, 'y': -464.5}, {'id': '23', 'name': '求职大学生', 'symbolSize': 40, 'category': 5, 'value': '这款理肤泉紫光隔离特别适合求职大学生使用，它能帮助打造自然、清透的妆容，让面试时的你看起来更加自信和专业。产品具有出色的修颜提亮效果，同时具备高倍防晒功能，保护肌肤免受紫外线伤害，非常适合日常通勤使用。', 'x': 327, 'y': 356.6}, {'id': '24', 'name': '海外爆火', 'symbolSize': 42.9, 'category': 4, 'value': '国外超火的实力选手，海外榜单前列，好评如潮。\n\n内容重点: \n1、以海外榜单、排名佐证产品实力&热度 2、侧重海外口碑，列举购买者好评截图 3、在日本的海外博主可通过实地采访佐证 4、用光学对照卡突出展示产品的光学提亮科技 ', 'x': 630.7, 'y': 785.2}, {'id': '25', 'name': '润色控油', 'symbolSize': 54.3, 'category': 0, 'value': '专为亚洲黄调肤色研发，360°紫光调色技术有效去黄提亮，同时添加太空控油成分AIRLICIUM，持久控油不拔干，保持一整天的清爽哑光妆效。', 'x': -303.8, 'y': -734.4}, {'id': '26', 'name': '熬夜/饮食气色差', 'symbolSize': 40, 'category': 3, 'value': '因熬夜或饮食不当导致肤色暗沉、气色不佳，需要一款能够提亮肤色、改善黄气的产品，使肌肤看起来更加健康有活力。', 'x': -743.6, 'y': -897}, {'id': '27', 'name': '熬夜疲惫', 'symbolSize': 40, 'category': 3, 'value': '熬夜后肌肤显得疲惫不堪，需要一款能够迅速提亮肤色、改善倦容的产品，恢复肌肤的活力。', 'x': 756.3, 'y': -756.7}, {'id': '28', 'name': '爆款妆容推荐', 'symbolSize': 42.9, 'category': 4, 'value': '爆款妆容，5分钟也能得到绝美妆。\n\n内容重点: \n1、用妆容吸睛带入妆容使用的产品(比如仅有隔离+散粉) 2、肤感好不脱妆的同时，spf50+才是日常妆容的答案 3、live图直接看上脸效果，强调不油腻、不搓泥等 ', 'x': -546.8, 'y': 336.8}, {'id': '29', 'name': '特种兵极限撸妆', 'symbolSize': 40, 'category': 3, 'value': '在高强度活动或户外运动时，需要一个能够抵御汗水和油脂，保持妆容完整且持久的产品。', 'x': -376.7, 'y': -412},, {'id': '31', 'name': '真诚避雷', 'symbolSize': 40, 'category': 4, 'value': '隔离防晒看这篇一次选对。\n\n请注意是否包含以下内容重点（若无，必须自然地融入到既有的文本中，不能独立放在最后）: \n1、用光学对照卡突出展示产品的光学提亮科技 2、专业分析角度，突出防晒实力、控油效果等优势 3、从自身肌肤问题(痘痘肌，蜡黄、肤色不均)切入更具说服力 4、从性价比、安全性上对比其他隔离突出优势 ', 'x': -991.7, 'y': -748.4}, {'id': '32', 'name': '精致上班族', 'symbolSize': 40, 'category': 5, 'value': '精致的上班族追求的是高效且高品质的美妆产品，理肤泉紫光隔离凭借其卓越的光学提亮科技和持久控油能力，能够让妆容一整天都保持完美状态。无论是办公室还是外出见客户，都能展现出最佳状态。', 'x': 947.6, 'y': 545.5}, {'id': '33', 'name': '约会伪素颜', 'symbolSize': 40, 'category': 3, 'value': '在约会时，希望肌肤看起来自然、无瑕，但又不想让对方看出化妆痕迹，追求一种“仿佛天生丽质”的效果。', 'x': 289, 'y': -983.4}, {'id': '34', 'name': '约会恋爱女', 'symbolSize': 40, 'category': 5, 'value': '约会时想要展现最好的一面？理肤泉紫光隔离可以帮助你实现这一目标。该产品能够均匀提亮肤色，使肌肤看起来更加光滑细腻，同时保持自然妆感，让你在恋人面前更加迷人自信。', 'x': 274.3, 'y': 668.4}, {'id': '35', 'name': '美妙肤感', 'symbolSize': 54.3, 'category': 0, 'value': '轻盈的质地带来无负担的使用体验，上脸后如同第二层肌肤般贴合，不仅修颜提亮，还能隐匿毛孔，还原妈生皮的细腻质感。', 'x': -479.4, 'y': 256.4}, {'id': '36', 'name': '肌肤出油', 'symbolSize': 40, 'category': 3, 'value': '油性肌肤容易出现油光满面的情况，需要一款能够长效控油、保持哑光效果的产品，减少频繁补妆的困扰。', 'x': 510.7, 'y': -418.8}, {'id': '37', 'name': '肌肤敏感易晒伤', 'symbolSize': 40, 'category': 3, 'value': '敏感肌肤容易受到紫外线伤害，需要一款温和且具有高倍防晒功能的产品，保护肌肤免受紫外线侵害。', 'x': 947.3, 'y': -280.8}, {'id': '38', 'name': '肌肤暗沉', 'symbolSize': 40, 'category': 3, 'value': '长期面对电脑或环境污染导致肌肤暗沉，需要一款能够有效提亮肤色、改善黄气的产品，恢复肌肤的明亮度。', 'x': -751.7, 'y': -290.9}, {'id': '39', 'name': '超轻皮肤衣科技', 'symbolSize': 40, 'category': 1, 'value': '妆面更服帖，肌肤0负担 顶级「肤感」 \nINUTEC 注意不是INUTECTM 皮肤衣科技。航空级分子材料注入 打造立体屏障，轻盈上脸好肤感 \n均匀成膜更贴妆 随形覆盖 隔离不留缝 \n理肤泉紫光隔离 \n*高度适应皮肤形状，均匀覆盖，妆效更优 \n（普通隔离 \n*无法适应不规则皮肤表面，深浅不一 ）\n消费者口碑认证 轻盈好肤感 肌肤无负担  ', 'x': -708.3, 'y': 891.8}, {'id': '40', 'name': '面试妆', 'symbolSize': 42.9, 'category': 4, 'value': '面试必备，轻松打造伪素颜。\n\n内容重点: \n1、强调效果堪比素颜霜简单好用 2、简单妆教展示，可搭配知名散粉等产品一起使用 3、展示妆后整体效果，可用live图，突出自然妆造 4、强调上脸后产品修颜提亮、不油腻、不搓泥、成膜快等', 'x': 374.4, 'y': 622.2}, {'id': '41', 'name': '麦色滤科技', 'symbolSize': 40, 'category': 1, 'value': '欧莱雅集团拿手科技，源头抵御紫外线，出门无忧。高倍「防晒」 \n双重麦色滤防晒技术 防晒不到位 加剧肌肤暗沉斑点老化! \n理肤泉防晒绝活 双重麦色滤防晒技术无惧晒! \nSPF 50+ PA++++ 隔离中的防晒冠军 \n市面上绝大部分隔离无防晒功能 or防晒值极低无法有效抵御紫外线 ', 'x': -871.3, 'y': 267}]



 {'id': '30', 'name': '理肤泉紫光隔离', 'symbolSize': 100, 'category': 7, 'value': '', 'x': -689.2, 'y': -846.5}

{'id': '2', 'name': '光学美颜科技 360°去黄遮毛孔', 'symbolSize': 54.3, 'category': 2, 'value': '采用专为亚洲黄调肤色研发的天然紫光微晶，能够360°调色提亮，有效去除黄气，自然通透不假白，同时隐匿毛孔，打造妈生好皮效果。', 'x': -378.8, 'y': 970.2}

---

[{'source': '30', 'target': '2', 'width': 1, 'relation_text': '采用专为亚洲黄调肤色研发的天然紫光微晶，能够360°调色提亮，有效去除黄气，自然通透不假白，同时隐匿毛孔，打造妈生好皮效果。'}, {'source': '30', 'target': '9', 'width': 1, 'relation_text': '添加了理肤泉明星控油成分AIRLICIUM™，能吸收自重150倍的油脂，持久控油不拔干，保持12小时光泽肌肤，特别适合亚洲人出油肌肤。'}, {'source': '30', 'target': '13', 'width': 1, 'relation_text': '利用航空级分子材料，形成轻盈立体屏障，使产品上脸后更加贴合肌肤，无硅感，成膜快，不油腻不搓泥，让妆容更自然服帖。'}, {'source': '30', 'target': '4', 'width': 1, 'relation_text': '配备欧莱雅集团的双重麦色滤防晒技术，提供SPF50+ PA++++高倍防晒，全面防护UVA和UVB，是日常通勤的理想选择。'}, {'source': '30', 'target': '14', 'width': 1, 'relation_text': '不含香精、尼泊金酯类防腐剂等刺激性成分，敏感肌也能安心使用。产品质地轻薄，洁面时即可轻松卸除，不会给肌肤带来额外负担。'}, {'source': '30', 'target': '1', 'width': 1, 'relation_text': '360°去黄提亮，还原妈生好皮。采用天然紫光微晶，专为亚洲黄调肤色研发，提供自然通透的提亮效果，有效隐匿毛孔，不堵塞无硅感。'}, {'source': '30', 'target': '11', 'width': 1, 'relation_text': '添加理肤泉明星控油成分AIRLICIUMTM，持久控油不拔干，可吸收自重150倍皮脂，适合全肤质使用，组合复配成分更养肤，持久不暗沉。'}, {'source': '30', 'target': '39', 'width': 1, 'relation_text': '采用航空级分子材料，打造立体屏障，轻盈上脸好肤感，随形覆盖隔离不留缝，均匀成膜更贴妆，提供自然舒适的使用体验。'}, {'source': '30', 'target': '41', 'width': 1, 'relation_text': '双重麦色滤防晒技术，SPF50+ PA++++，高倍防护紫外线，源头抵御光老化，无惧晒伤晒黑，成为隔离中的防晒冠军。'}, {'source': '30', 'target': '23', 'width': 1, 'relation_text': '这款理肤泉紫光隔离特别适合求职大学生使用，它能帮助打造自然、清透的妆容，让面试时的你看起来更加自信和专业。产品具有出色的修颜提亮效果，同时具备高倍防晒功能，保护肌肤免受紫外线伤害，非常适合日常通勤使用'}, {'source': '30', 'target': '8', 'width': 1, 'relation_text': '对于经常加班熬夜的人来说，理肤泉紫光隔离能够有效遮盖疲惫的肤色，提供持久的控油效果，避免因长时间工作导致的油光满面。其轻薄透气的质地不会给肌肤带来负担，还能在忙碌的工作中保持清爽的妆容。'}, {'source': '30', 'target': '32', 'width': 1, 'relation_text': '精致的上班族追求的是高效且高品质的美妆产品，理肤泉紫光隔离凭借其卓越的光学提亮科技和持久控油能力，能够让妆容一整天都保持完美状态。无论是办公室还是外出见客户，都能展现出最佳状态。'}, {'source': '30', 'target': '6', 'width': 1, 'relation_text': '对于经常需要出差或旅行的人来说，理肤泉紫光隔离是理想的选择。它不仅具有强大的防晒功能（SPF50+ PA++++），可以有效抵御户外紫外线，还非常便于携带和使用，随时随地都能轻松打造出自然好气色。'}, {'source': '30', 'target': '15', 'width': 1, 'relation_text': '作为宝妈，在照顾家庭的同时也需要关注自己的形象。理肤泉紫光隔离温和安全，不含香精和尼泊金酯类防腐剂，适合敏感肌使用。它的快速成膜特性使得即使是在忙碌的生活节奏中也能迅速完成日常护肤步骤，为宝妈们节省宝'}, {'source': '30', 'target': '34', 'width': 1, 'relation_text': '约会时想要展现最好的一面？理肤泉紫光隔离可以帮助你实现这一目标。该产品能够均匀提亮肤色，使肌肤看起来更加光滑细腻，同时保持自然妆感，让你在恋人面前更加迷人自信。'}, {'source': '30', 'target': '19', 'width': 1, 'relation_text': '在春/秋招面试中，需要一个简单好用的产品来打造自然妆容，帮助求职者提升自信，同时避免妆感过重带来的不适。'}, {'source': '30', 'target': '33', 'width': 1, 'relation_text': '在约会时，希望肌肤看起来自然、无瑕，但又不想让对方看出化妆痕迹，追求一种“仿佛天生丽质”的效果。'}, {'source': '30', 'target': '16', 'width': 1, 'relation_text': '早晨时间紧张，需要快速完成妆容，同时产品需具备长效控油和防晒功能，确保一整天的妆容持久不脱妆。'}, {'source': '30', 'target': '29', 'width': 1, 'relation_text': '在高强度活动或户外运动时，需要一个能够抵御汗水和油脂，保持妆容完整且持久的产品。'}, {'source': '30', 'target': '26', 'width': 1, 'relation_text': '因熬夜或饮食不当导致肤色暗沉、气色不佳，需要一款能够提亮肤色、改善黄气的产品，使肌肤看起来更加健康有活力。'}, {'source': '30', 'target': '3', 'width': 1, 'relation_text': '在进行全妆街拍时，希望妆容自然、服帖，且在长时间拍摄过程中不会出现卡粉、爆皮等现象，保持最佳状态。'}, {'source': '30', 'target': '38', 'width': 1, 'relation_text': '长期面对电脑或环境污染导致肌肤暗沉，需要一款能够有效提亮肤色、改善黄气的产品，恢复肌肤的明亮度。'}, {'source': '30', 'target': '22', 'width': 1, 'relation_text': '毛孔粗大影响整体肤质，需要一款能够隐形毛孔、平滑肌肤的产品，使肌肤看起来更加细腻。'}, {'source': '30', 'target': '36', 'width': 1, 'relation_text': '油性肌肤容易出现油光满面的情况，需要一款能够长效控油、保持哑光效果的产品，减少频繁补妆的困扰。'}, {'source': '30', 'target': '10', 'width': 1, 'relation_text': '干燥肌肤容易出现卡粉、爆皮等问题，需要一款能够保湿、贴合肌肤的产品，避免妆容斑驳。'}, {'source': '30', 'target': '27', 'width': 1, 'relation_text': '熬夜后肌肤显得疲惫不堪，需要一款能够迅速提亮肤色、改善倦容的产品，恢复肌肤的活力。'}, {'source': '30', 'target': '37', 'width': 1, 'relation_text': '敏感肌肤容易受到紫外线伤害，需要一款温和且具有高倍防晒功能的产品，保护肌肤免受紫外线侵害。'}, {'source': '30', 'target': '20', 'width': 1, 'relation_text': '理肤泉紫光隔离相比某日系TOP隔离，具有更高的性价比。在控油效果、防晒指数（SPF50+ PA++++）以及成分安全性上均优于竞品，且不含香精和尼泊金酯类防腐剂，适合敏感肌使用。此外，理肤泉紫光隔离采'}, {'source': '30', 'target': '18', 'width': 1, 'relation_text': '强调上脸后产品修颜提亮、不油腻、不搓泥、成膜快等，突出产品的强防晒力。'}, {'source': '30', 'target': '17', 'width': 1, 'relation_text': '展示涂后的效果，能有前后对比展示，强调上脸后产品修颜提亮、不油腻、不搓泥、成膜快等，在兼具肤感的同时，具有强防晒力。'}, {'source': '30', 'target': '28', 'width': 1, 'relation_text': '用妆容吸睛带入妆容使用的产品（比如仅有隔离+散粉），强调肤感好不脱妆的同时，SPF50+。'}, {'source': '30', 'target': '31', 'width': 1, 'relation_text': '专业分析角度，突出防晒实力、控油效果等优势，从自身肌肤问题（痘痘肌，蜡黄、肤色不均）切入更具说服力，从性价比、安全性上对比其他隔离突出优势。'}, {'source': '30', 'target': '21', 'width': 1, 'relation_text': '用光学对照卡突出展示产品的光学提亮科技，从性价比、安全性上对比其他隔离突出优势，强调大牌高替，花小钱办大事，性价比高。'}, {'source': '30', 'target': '5', 'width': 1, 'relation_text': '专业科普角度切入，冷门产品实力不容小觑，品牌背书，提及同品牌其他产品借热度，用光学对照卡突出展示产品的光学提亮科技。'}, {'source': '30', 'target': '40', 'width': 1, 'relation_text': '强调效果堪比素颜霜简单好用，简单妆教展示，可搭配知名散粉等产品一起使用，展示妆后整体效果，可用live图，突出自然妆造，强调上脸后产品修颜提亮、不油腻、不搓泥、成膜快等。'}, {'source': '30', 'target': '24', 'width': 1, 'relation_text': '以海外榜单、排名佐证产品实力&热度，侧重海外口碑，列举购买者好评截图，用光学对照卡突出展示产品的光学提亮科技。'}, {'source': '30', 'target': '0', 'width': 1, 'relation_text': '理肤泉紫光隔离在COSME美妆大赏上连续多年霸榜，深受消费者喜爱，是口碑与实力的双重见证。'}, {'source': '30', 'target': '12', 'width': 1, 'relation_text': '这款隔离能够提供超自然光感提亮效果，打造空气感清透肤感，让肌肤呈现素颜好气色，无论是日常通勤还是重要场合都能展现最佳状态。'}, {'source': '30', 'target': '25', 'width': 1, 'relation_text': '专为亚洲黄调肤色研发，360°紫光调色技术有效去黄提亮，同时添加太空控油成分AIRLICIUMTM，持久控油不拔干，保持一整天的清爽哑光妆效。'}, {'source': '30', 'target': '35', 'width': 1, 'relation_text': '轻盈的质地带来无负担的使用体验，上脸后如同第二层肌肤般贴合，不仅修颜提亮，还能隐匿毛孔，还原妈生皮的细腻质感。'}, {'source': '30', 'target': '7', 'width': 1, 'relation_text': 'SPF50+ PA++++的高倍防晒值让你无惧紫外线，无需额外涂抹防晒霜，洁面即可卸除，安全温和适合各种肤质，即使是敏感肌也能安心使用，简化你的日常护肤步骤。'}, {'source': '1', 'target': '30', 'width': 1, 'relation_text': '理肤泉紫光隔离 全能战士完美避坑   C1 - Internal use 欧莱雅联合默克 美妆科技巨头联手打造× Micro-Pearl 天然紫光微晶 专为亚洲黄调肤色研发 1/ 360°紫光调色 通'}, {'source': '1', 'target': '11', 'width': 1, 'relation_text': '理肤泉紫光隔离 全能战士完美避坑   C1 - Internal use 欧莱雅联合默克 美妆科技巨头联手打造× Micro-Pearl 天然紫光微晶 专为亚洲黄调肤色研发 1/ 360°紫光调色 通'}, {'source': '11', 'target': '30', 'width': 1, 'relation_text': '理肤泉紫光隔离 全能战士完美避坑   C1 - Internal use 欧莱雅联合默克 美妆科技巨头联手打造× Micro-Pearl 天然紫光微晶 专为亚洲黄调肤色研发 1/ 360°紫光调色 通'}, {'source': '25', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '14', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '4', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '9', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '0', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '2', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '20', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '13', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '7', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '12', 'target': '25', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '14', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '4', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '9', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '0', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, {'source': '2', 'target': '35', 'width': 1, 'relation_text': '干皮 油皮 敏皮 C1 - Internal use 全方位超越市面大火隔离 品质之选，更具性价比 控油防晒倍数 遮瑕提亮美白 无香精 无高风险成分 无尼泊金酯类防腐剂价格百元到手 SPF50+ PA'}, ...]



























学习过程中的一些可能问的问题：以下是一些可能的学生常见疑问，基于你的知识图谱内容：

### **存储管理**

1. 存储层次结构中，各级存储设备的访问速度和容量是如何权衡的？
2. 为什么需要多级存储，而不是直接使用一个大容量的高速存储？
3. 静态链接和动态链接的主要区别是什么？实际应用中如何选择？
4. 绝对装入、可重定位装入和动态运行时装入的适用场景是什么？
5. 在内存分配的最佳适应和最坏适应算法中，为什么最坏适应算法可能会造成更多的外部碎片？

### **文件管理**

1. 文件系统中的索引文件和索引顺序文件如何权衡访问效率和存储开销？
2. 为什么有些操作系统采用无环图目录，而不是更简单的树形目录？
3. 访问控制矩阵是如何在文件系统中具体实现的？是否会带来性能开销？

### **虚拟存储**

1. 什么是抖动（thrashing），为什么会发生？如何避免？
2. FIFO、LRU 和 Clock 置换算法在实际系统中如何取舍？
3. 局部性原理如何影响分页存储的性能？如何优化？

### **进程与线程**

1. 进程和线程的主要区别是什么？在多核处理器上如何利用线程提高效率？
2. 为什么需要进程同步？同步和互斥的本质区别是什么？
3. 共享存储和消息传递的进程通信方式如何选择？各自的优缺点是什么？

### **操作系统概述**

1. 为什么操作系统要区分内核态和用户态？什么情况下需要切换？
2. 中断和异常的区别是什么？哪些情况会触发中断？
3. 为什么现代操作系统大多采用分层或微内核架构？相较于传统的单体内核有什么优势？

### **输入输出管理**

1. 轮询 IO、中断 IO 和 DMA 方式有什么区别？DMA 如何提升 IO 效率？
2. 磁盘调度算法（如 FCFS、SSTF、SCAN）如何影响磁盘访问性能？
3. 设备管理如何解决不同设备的访问冲突问题？

这些问题都是学生在学习过程中容易产生的疑问，涉及基础概念、实现原理以及实际应用的选择。如果你需要更详细的解答或补充某些方面的疑问，欢迎继续交流！









